<!DOCTYPE html>
<html>
<head>
  <style>
    body { font-family: Arial, sans-serif; }
    table {
      width: 100%;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
    }
    th {
      background: #f4f4f4;
    }
    .success { color: green; font-weight: bold; }
    .failed { color: red; font-weight: bold; }
  </style>
</head>
<body>

<h2>GCP Subnet Creation Report</h2>

<p>Hello Team,</p>
<p>The subnet creation workflow has completed. Below are the results of this run:</p>

<table>
  <thead>
    <tr>
      <th>Project</th>
      <th>Region</th>
      <th>VPC</th>
      <th>Subnet Name</th>
      <th>CIDR</th>
      <th>Status</th>
      <th>Message</th>
    </tr>
  </thead>
  <tbody>
    {% for item in subnet_report %}
      <tr>
        <td>{{ item.project }}</td>
        <td>{{ item.region }}</td>
        <td>{{ item.vpc }}</td>
        <td>{{ item.subnet_name }}</td>
        <td>{{ item.cidr }}</td>
        <td class="{{ 'success' if item.status == 'SUCCESS' else 'failed' }}">
          {{ item.status }}
        </td>
        <td>{{ item.message }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<p style="margin-top:20px;">
Best regards,<br>
<b>Network Automation Team</b><br>
<small>This is an automated email. Do not reply.</small>
</p>

</body>
</html>
